---
title: 'SQL æ¢ä»¶éŽæ¿¾å¤§å…¨ï¼šæŸ¥è³‡æ–™ä¸åªæ˜¯ WHEREï¼Œé‚„æœ‰ INã€LIKEã€BETWEENï¼'
draft: false
tags:
  - SQL
  - æ–°æ‰‹
  - SQL ç³»åˆ—ä¸€
series:
  - SQLåˆå­¸
seriesorder: 4
---
ç•¶ä½ å­¸æœƒäº† SELECT å’ŒåŸºæœ¬çš„ WHERE æ¢ä»¶æŸ¥è©¢å¾Œï¼ŒæŽ¥ä¸‹ä¾†å°±å¯ä»¥è§£éŽ–æ›´å¼·å¤§çš„æŸ¥è©¢èªžæ³•çµ„åˆï¼

é€™ä¸€ç¯‡æ˜¯ SQL æ¢ä»¶ç¯©é¸èªžæ³•çš„å¯¦æˆ°å¤§å…¨ï¼Œæˆ‘æœƒå¸¶ä½ ç”¨æ¸…æ¥šçš„ç¯„ä¾‹ï¼Œå¿«é€ŸæŽŒæ¡ä»¥ä¸‹æŸ¥è©¢ç¥žå™¨ï¼š

IN / NOT IN

LIKE æ¨¡ç³Šæ¯”å°

BETWEEN å€é–“æŸ¥è©¢

IS NULL / IS NOT NULL

é‚è¼¯é‹ç®—å­ AND / OR / NOT çš„æ­£ç¢ºç”¨æ³•

## ðŸ§² ç”¨ IN é¸æ“‡å¤šå€‹æ¢ä»¶å€¼ï¼ˆæ¯” OR é‚„å¥½ç”¨ï¼‰
å‡è¨­ä½ è¦æŸ¥è©¢ä¾†è‡ªã€ŒNew Yorkã€Taipeiã€Tokyoã€ä¸‰å€‹åŸŽå¸‚çš„ä½¿ç”¨è€…ï¼Œä½ å¯ä»¥ç”¨é€™æ¨£çš„æ–¹å¼å¯«ï¼š

sql

``` sql
SELECT name, city
FROM users
WHERE city IN ('New York', 'Taipei', 'Tokyo');
```
æ¯”èµ·é€™æ¨£å¯«æœƒæ›´ç°¡æ½”ï¼š

```sql
-- å‚³çµ±å¯«æ³•ï¼ˆä¸å»ºè­°ï¼‰
WHERE city = 'New York' OR city = 'Taipei' OR city = 'Tokyo';
```
æƒ³æŽ’é™¤ç‰¹å®šå€¼ï¼Ÿç”¨ NOT INï¼š

```sql
WHERE city NOT IN ('Moscow', 'Paris')
```
## ðŸ” ç”¨ LIKE é€²è¡Œæ¨¡ç³Šæœå°‹
æœ‰æ™‚å€™ä½ åªçŸ¥é“åå­—çš„éƒ¨åˆ†é—œéµå­—ï¼Œé€™æ™‚å€™å°±ç”¨ LIKEï¼š

```sql 
-- æŸ¥æ‰€æœ‰åå­—é–‹é ­æ˜¯ A çš„äºº
SELECT name
FROM users
WHERE name LIKE 'A%';
```
% å’Œ _ æ˜¯ä»€éº¼æ„æ€ï¼Ÿ
| ç¬¦è™Ÿ  | ä»£è¡¨     | ç¯„ä¾‹             |
| --- | ------ | -------------- |
| `%` | ä»»æ„é•·åº¦å­—å…ƒ | `'A%'`ï¼šA é–‹é ­    |
| `_` | å–®ä¸€å­—å…ƒ   | `'A_'`ï¼šA é–‹é ­å…©å­—å…ƒ |


``` sql
-- æŸ¥åå­—ä¸­é–“æœ‰ "li" çš„äºº
WHERE name LIKE '%li%'
```
```sql
-- æŸ¥ç¬¬äºŒå€‹å­—æ˜¯ "a" çš„äºº
WHERE name LIKE '_a%'
```
ðŸ“ ç”¨ BETWEEN æŸ¥å€é–“ï¼ˆå«èµ·å§‹èˆ‡çµå°¾ï¼‰
æƒ³æŸ¥ 20 åˆ° 30 æ­²çš„ä½¿ç”¨è€…ï¼Œé€™æ¨£å¯«æœ€ç°¡å–®ï¼š

```sql
SELECT name, age
FROM users
WHERE age BETWEEN 20 AND 30;
```
âš ï¸ æ³¨æ„ï¼šBETWEEN æ˜¯åŒ…å«é ­å°¾çš„ï¼Œä¹Ÿå°±æ˜¯ç­‰æ–¼ >= 20 AND <= 30

å¦‚æžœä½ è¦æŽ’é™¤é‚Šç•Œï¼Œè«‹æ”¹ç”¨ï¼š

``` sql
WHERE age > 20 AND age < 30
```

## ðŸ•³ æŸ¥å‡ºã€Œæ²’æœ‰å€¼ã€çš„è³‡æ–™ï¼šIS NULL / IS NOT NULL
åœ¨è³‡æ–™åº«ä¸­ï¼ŒNULL ä»£è¡¨ã€Œæ²’æœ‰å€¼ã€ï¼Œé€™è·Ÿ ''ï¼ˆç©ºå­—ä¸²ï¼‰æˆ– 0 ä¸ä¸€æ¨£ã€‚

æŸ¥æ‰¾åœ°å€æ²’å¡«çš„äººï¼š

```sql
SELECT name
FROM users
WHERE address IS NULL;
```
æŸ¥æ‰¾åœ°å€æœ‰å¡«çš„äººï¼š

```sql
WHERE address IS NOT NULL;
```
âŒ éŒ¯èª¤ç¯„ä¾‹ï¼ˆä¸èƒ½ç”¨ = æ¯”è¼ƒ NULLï¼‰ï¼š

sql

-- éŒ¯èª¤å¯«æ³•
WHERE address = NULL
ðŸ”— é‚è¼¯é‹ç®—ç¬¦çš„æ­£ç¢ºä½¿ç”¨ï¼šAND / OR / NOT
ä½ å¯ä»¥çµ„åˆæ¢ä»¶èªžå¥ï¼š

sql

-- æŸ¥å¹´é½¡ 25 ä»¥ä¸Šï¼Œä¾†è‡ª New York çš„äºº
WHERE age >= 25 AND city = 'New York'
ä½¿ç”¨ OR æ™‚ï¼Œè¨˜å¾—ç”¨æ‹¬è™Ÿé¿å…èª¤è§£ï¼š

```sql

-- æŸ¥ä¾†è‡ª London æˆ– Tokyoï¼Œä¸”å¹´é½¡å¤§æ–¼ 30 çš„äºº
WHERE (city = 'London' OR city = 'Tokyo') AND age > 30
ä½¿ç”¨ NOT æŽ’é™¤æ¢ä»¶ï¼š
```
``` sql

-- æŸ¥ä¸æ˜¯ Sales éƒ¨é–€çš„äºº
WHERE NOT department = 'Sales'
## ðŸ§  å¯¦æˆ°ç·´ç¿’é¡Œ
å˜—è©¦ä½¿ç”¨ INã€BETWEENã€LIKE çµ„åˆæŸ¥è©¢ï¼š
```
```sql

-- æŸ¥æ‰¾åå­—ä¸­æœ‰ "a"ï¼Œä¾†è‡ª New York æˆ– Taipeiï¼Œä¸”å¹´é½¡ 20ï½ž35 æ­²çš„ä½¿ç”¨è€…
SELECT name, city, age
FROM users
WHERE name LIKE '%a%'
  AND city IN ('New York', 'Taipei')
  AND age BETWEEN 20 AND 35;
```
âš ï¸ å¸¸è¦‹é™·é˜±èˆ‡æ³¨æ„äº‹é …
å•é¡Œ	åŽŸå› 	è§£æ³•
LIKE æŸ¥ä¸åˆ°è³‡æ–™	æœ‰æ²’æœ‰æ³¨æ„å¤§å°å¯«ï¼Ÿä¸åŒè³‡æ–™åº«é è¨­ä¸åŒ	å¯ç”¨ ILIKEï¼ˆPostgreSQLï¼‰æˆ–è½‰å°å¯«å¾Œæ¯”å°
BETWEEN åŒ…ä¸åŒ…å«å…©ç«¯ï¼Ÿ	åŒ…å«å…©ç«¯	BETWEEN 10 AND 20 ç­‰æ–¼ >=10 AND <=20
IN vs = æ€§èƒ½å·®åˆ¥ï¼Ÿ	IN ç”¨æ–¼å¤šå€¼ç¯©é¸æ›´ç©©å®š	å°‘æ•¸æ¢ä»¶å·®ç•°ä¸å¤§ï¼Œå¤šæ¢ä»¶è«‹ç”¨ IN

## ðŸ§­ å°çµï¼šç†Ÿç·´é€™äº›æ¢ä»¶èªžæ³•ï¼Œä½ çš„æŸ¥è©¢å°‡ç„¡äººèƒ½æ“‹
INï¼šå¤šå€¼é¸æ“‡æ›´ç°¡æ½”

LIKEï¼šæ¨¡ç³ŠæŸ¥è©¢ç¥žå™¨

BETWEENï¼šå€é–“ç¯©é¸å°‘ä¸äº†

IS NULLï¼šæ‰¾å‡ºè³‡æ–™ç¼ºæ¼

AND / ORï¼šè¨˜å¾—ç”¨æ‹¬è™Ÿçµ„åˆæ¢ä»¶

â­ ä¸‹ä¸€ç¯‡å°‡é€²å…¥æ”¯ç·š B3ï¼š
ðŸ“Š ã€ŒGROUP BY åˆ†çµ„æŸ¥è©¢èˆ‡ HAVING æ¢ä»¶ï¼šä½ ä¸èƒ½åªæœƒ SELECTï¼Œè¦é–‹å§‹åšå ±è¡¨äº†ï¼ã€

ðŸ“Œ å¦‚æžœä½ å–œæ­¡é€™ç³»åˆ—ï¼Œæ­¡è¿Žç•™è¨€ä½ æƒ³å­¸çš„å…§å®¹ã€æ”¶è—é€™ç¯‡æ–‡ç« ï¼Œæˆ–è¿½è¹¤æˆ‘è®“ä½ æŒçºŒç²å¾— SQL ç³»åˆ—æ›´æ–°ï¼